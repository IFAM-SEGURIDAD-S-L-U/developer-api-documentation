post:
  tags:
    - Device
  summary: Check smartlock keys
  description: >
    Use this endpoint to check the smartlock keys, for the smartlock identified
    by its `device_id` . It verifies that the keys provided in the request match
    the keys stored in the database for the specified device. And if they do not
    match, it synchronizes the keys stored in the database with the keys sent in
    the request.
  requestBody:
    required: true
    description: >
      `last_bluetooth_connection` contains the timestamp of the last Bluetooth
      connection to the device, in milliseconds since epoch. This is used to
      determine if the device has been recently connected.
    content:
      application/json:
        schema:
          $ref: ../components/schemas/checkDeviceKeysRequest.yaml
  responses:
    '200':
      $ref: ../components/responses/checkDeviceKeysResponse.yaml
    '400':
      $ref: ../components/responses/BadRequest.yaml
    '401':
      $ref: ../components/responses/Unauthorized.yaml
    '403':
      $ref: ../components/responses/UserNotDeviceUser.yaml
