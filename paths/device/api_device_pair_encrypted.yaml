post:
  tags:
    - Device
  summary: Pair smartlock (encrypted)
  description: >
    Use this endpoint to pair a smartlock with the user account whose identity
    is specified in the OpenID Connect ID token used for the request.
  requestBody:
    description: >
      The pairing operation performs two actions. On the one hand, it stores the
      values passed in the `device` key as the smartlock's current status. On
      the other hand, it creates a smartlock admin key using the values passed
      in the `key` key, and assigns that key to the user account whose identity
      is specified in the OpenID Connect ID token.
    required: true
    content:
      application/json:
        schema:
          $ref: ../../components/schemas/pairEncryptedRequest.yaml
  responses:
    '200':
      $ref: ../../components/responses/pairDeviceEncryptedResponse.yaml
    '400':
      $ref: ../../components/responses/BadRequestPairEncryptedFromSpec.yaml
    '401':
      $ref: ../../components/responses/Unauthorized.yaml
